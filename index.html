<script>
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element');
    }

    document.getElementById("translate-toggle").addEventListener("click", () => {
      document.getElementById("translate-popup").classList.toggle("hidden");
    });

    document.getElementById("favgLink").addEventListener("click", e => {
      e.preventDefault();
      if (confirm("âš ï¸ WARNING âš ï¸\\n\\nYou're about to open SLavik's fav gassyfried video.\\nIt may contain EXTREME gassiness ðŸ’¨ðŸ’¨ðŸ’¨\\n\\nDo you still want to proceed?")) {
        window.open("https://www.youtube.com/watch?v=eS7svjrghmc", "_blank");
      } else {
        alert("Good choice ðŸ˜®â€ðŸ’¨ Stay away from the gas!");
      }
    });

    /* Fade footer only on mobile */
    const footer = document.querySelector(".footer");
    window.addEventListener("scroll", () => {
      if (window.innerWidth <= 768) {
        footer.style.opacity = window.scrollY > 120 ? "1" : "0";
      } else {
        footer.style.opacity = "1";
      }
    });

    /* Fix translate overlap and implement scroll transparency */
    const translateWrapper = document.querySelector(".translate-wrapper");
    const navbar = document.querySelector(".navbar");

    const updateTranslatePositionAndOpacity = () => {
      // Position fix (moved inside the function for potential dynamic navbar size)
      const offset = navbar.offsetHeight + 10;
      translateWrapper.style.top = `${offset}px`;

      // Transparency logic
      if (window.scrollY > 50) { // Transparency starts after scrolling 50px
        translateWrapper.style.opacity = "0.2"; // Make it transparent
      } else {
        translateWrapper.style.opacity = "1"; // Fully opaque at the top
      }
    };

    window.addEventListener("load", updateTranslatePositionAndOpacity);
    // Added: Update opacity on scroll
    window.addEventListener("scroll", updateTranslatePositionAndOpacity);

    /* Prevent cutoff scrolling */
    document.body.style.overflowY = "auto";

    document.getElementById("menu-toggle").addEventListener("click", function() {
      const menuContainer = document.getElementById("menu-container");
      menuContainer.classList.toggle("active");
      this.setAttribute("aria-expanded", menuContainer.classList.contains("active"));
    });
  </script>
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
